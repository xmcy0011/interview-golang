
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>map地址的实现原理 · GO面试复习指南</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="许非">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2-key为什么是无序的.html" />
    
    
    <link rel="prev" href="./" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Go面试复习指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Go语法复习/">
            
                <a href="../Go语法复习/">
            
                    
                    Go语法复习
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Go语法复习/程序结构.html">
            
                <a href="../Go语法复习/程序结构.html">
            
                    
                    程序结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Go语法复习/表达式.html">
            
                <a href="../Go语法复习/表达式.html">
            
                    
                    表达式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../数组和切片/">
            
                <a href="../数组和切片/">
            
                    
                    🐱数组和切片
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../数组和切片/1-slice底层的实现原理.html">
            
                <a href="../数组和切片/1-slice底层的实现原理.html">
            
                    
                    slice底层的实现原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../数组和切片/2-数组和切片有什么区别.html">
            
                <a href="../数组和切片/2-数组和切片有什么区别.html">
            
                    
                    *数组和切片有什么区别
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../数组和切片/3-切片是怎样扩容的.html">
            
                <a href="../数组和切片/3-切片是怎样扩容的.html">
            
                    
                    *切片是怎样扩容的
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../数组和切片/5-字面量和make初始化切片有区别吗.html">
            
                <a href="../数组和切片/5-字面量和make初始化切片有区别吗.html">
            
                    
                    字面量和make初始化切片有区别吗
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../数组和切片/6-拷⻉⼤切⽚⼀定⽐⼩切⽚代价⼤吗.html">
            
                <a href="../数组和切片/6-拷⻉⼤切⽚⼀定⽐⼩切⽚代价⼤吗.html">
            
                    
                    拷⻉⼤切⽚⼀定⽐⼩切⽚代价⼤吗
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../数组和切片/7-实际项目中使用slice都遇到过什么坑.html">
            
                <a href="../数组和切片/7-实际项目中使用slice都遇到过什么坑.html">
            
                    
                    实际项目中使用slice都遇到过什么坑
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../数组和切片/8-切片的性能优化.html">
            
                <a href="../数组和切片/8-切片的性能优化.html">
            
                    
                    切片的性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../数组和切片/4-nil切片和空切片的区别.html">
            
                <a href="../数组和切片/4-nil切片和空切片的区别.html">
            
                    
                    nil切片和空切片的区别
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    📚哈希表
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="1-map底层的实现原理.html">
            
                <a href="1-map底层的实现原理.html">
            
                    
                    map地址的实现原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="2-key为什么是无序的.html">
            
                <a href="2-key为什么是无序的.html">
            
                    
                    key为什么是无序的
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="3-哪些类型可以作为map的key.html">
            
                <a href="3-哪些类型可以作为map的key.html">
            
                    
                    哪些类型可以作为map的key
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="4-可以边遍历边删除吗.html">
            
                <a href="4-可以边遍历边删除吗.html">
            
                    
                    可以边遍历边删除吗
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="5-可以对map的元素取地址吗.html">
            
                <a href="5-可以对map的元素取地址吗.html">
            
                    
                    可以对map的元素取地址吗
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="6-如何比较两个map相等.html">
            
                <a href="6-如何比较两个map相等.html">
            
                    
                    如何比较两个 map 相等
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="7-map是线程安全的吗.html">
            
                <a href="7-map是线程安全的吗.html">
            
                    
                    *map 是线程安全的吗
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="8-如何实现线程安全的map.html">
            
                <a href="8-如何实现线程安全的map.html">
            
                    
                    *如何实现线程安全的map
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >map地址的实现原理</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright &#xA9; aleen42 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#map&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;">map&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#map&#x7B80;&#x4ECB;">map&#x7B80;&#x4ECB;</a><i></i></div></li>
<li><div><a href="#&#x54C8;&#x5E0C;&#x8868;&#x5B9E;&#x73B0;&#x7684;&#x5173;&#x952E;&#x70B9;">&#x54C8;&#x5E0C;&#x8868;&#x5B9E;&#x73B0;&#x7684;&#x5173;&#x952E;&#x70B9;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x54C8;&#x5E0C;&#x51FD;&#x6570;">&#x54C8;&#x5E0C;&#x51FD;&#x6570;</a><i></i></div></li>
<li><div><a href="#&#x51B2;&#x7A81;&#x89E3;&#x51B3;">&#x51B2;&#x7A81;&#x89E3;&#x51B3;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x6E90;&#x7801;&#x5206;&#x6790;">&#x6E90;&#x7801;&#x5206;&#x6790;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6570;&#x636E;&#x7ED3;&#x6784;">&#x6570;&#x636E;&#x7ED3;&#x6784;</a><i></i></div></li>
<li><div><a href="#&#x904D;&#x5386;&#x8FC7;&#x7A0B;">&#x904D;&#x5386;&#x8FC7;&#x7A0B;</a><i></i></div></li>
<li><div><a href="#&#x8D4B;&#x503C;&#x8FC7;&#x7A0B;">&#x8D4B;&#x503C;&#x8FC7;&#x7A0B;</a><i></i></div></li>
<li><div><a href="#&#x5220;&#x9664;&#x8FC7;&#x7A0B;">&#x5220;&#x9664;&#x8FC7;&#x7A0B;</a><i></i></div></li>
<li><div><a href="#&#x6269;&#x5BB9;&#x8FC7;&#x7A0B;">&#x6269;&#x5BB9;&#x8FC7;&#x7A0B;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x5404;&#x4E2A;&#x8BED;&#x8A00;&#x7684;map&#x5BF9;&#x6BD4;">&#x5404;&#x4E2A;&#x8BED;&#x8A00;&#x7684;map&#x5BF9;&#x6BD4;</a><i></i></div></li>
</ul></li>
</ul>
</div>

<h1 id="map&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;">map&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;</h1>
<h2 id="map&#x7B80;&#x4ECB;">map&#x7B80;&#x4ECB;</h2>
<p><a href="https://en.wikipedia.org/wiki/Associative_array" target="_blank">&#x7EF4;&#x57FA;&#x767E;&#x79D1;</a>&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>In computer science, an associative array, map, symbol table, or dictionary is an abstract data type that stores a collection of (key, value) pairs, such that each possible key appears at most once in the collection. In mathematical terms, an associative array is a function with finite domain. It supports &apos;lookup&apos;, &apos;remove&apos;, and &apos;insert&apos; operations.</p>
<p>The dictionary problem is the classic problem of designing efficient data structures that implement associative arrays. The two major solutions to the dictionary problem are hash tables and search trees. In some cases it is also possible to solve the problem using directly addressed arrays, binary search trees, or other more specialized structures.</p>
</blockquote>
<p>&#x7B80;&#x5355;&#x603B;&#x7ED3;&#xFF1A;map&#xFF08;&#x6620;&#x5C04;&#xFF09;&#x662F;&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF08;associative array&#xFF09;&#x7684;&#x522B;&#x79F0;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x4E86; key-value&#xFF08;&#x952E;&#x503C;&#x5BF9;&#xFF09;&#x5143;&#x7D20;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;key&#x53EA;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x6B21;&#xFF0C;&#x652F;&#x6301;&#x6DFB;&#x52A0;&#x3001;&#x79FB;&#x9664;&#x548C;&#x67E5;&#x627E;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x5B57;&#x5178;&#x95EE;&#x9898;&#xFF08;dictionary problem&#xFF09;&#x662F;&#x8BBE;&#x8BA1;&#x4E00;&#x79CD;&#x80FD;&#x591F;&#x5177;&#x5907;&#x5173;&#x8054;&#x6570;&#x7EC4;&#x7279;&#x6027;&#x7684;&#x9AD8;&#x6548;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002;&#x89E3;&#x51B3;&#x5B57;&#x5178;&#x95EE;&#x9898;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x662F;&#x54C8;&#x5E0C;&#x8868;&#x548C;&#x641C;&#x7D22;&#x6811;&#x3002;</p>
<p>Go &#x8BED;&#x8A00;&#x4E2D;&#x7684; map &#x4E3B;&#x8981;&#x652F;&#x6301;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ul>
<li>&#x6784;&#x9020;&#xFF1A;m := map[key]value{}</li>
<li>&#x63D2;&#x5165;&#xFF1A;m[k] = v</li>
<li>&#x67E5;&#x627E;&#xFF1A;v, ok = m[k]</li>
<li>&#x5220;&#x9664;&#xFF1A;delete(m, k)</li>
<li>&#x8FED;&#x4EE3;&#xFF1A;for k,v := range m</li>
<li>&#x5BB9;&#x5668;&#x5927;&#x5C0F;&#xFF1A;len(m)</li>
</ul>
<p>&#x56FE;&#x89E3;map&#x7684;2&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li><p><code>&#x54C8;&#x5E0C;&#x8868;&#xFF08;hash tables&#xFF09;</code>&#xFF1A;&#x5229;&#x7528;&#x6570;&#x7EC4;&#x5B58;&#x50A8;&#x952E;&#x548C;&#x503C;&#xFF0C;&#x901A;&#x8FC7;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x5BF9;&#x8F93;&#x5165;&#x7684;key&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x627E;&#x5230;value&#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5B83;&#x7684;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x7684;&#x9009;&#x62E9;&#x548C;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#x65F6;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF08;Go&#x4E2D;&#x4F7F;&#x7528;&#x62C9;&#x94FE;&#x6CD5;&#x89E3;&#x51B3;&#xFF09;&#xFF0C;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x662F;O(n)&#x3001;&#x5E73;&#x5747;O(1)
<img src="assets/map-impl-hashtable.jpg" alt="map-impl-hashtable"></p>
</li>
<li><p><code>&#x641C;&#x7D22;&#x6811;&#xFF08;search trees&#xFF09;</code>&#xFF1A;&#x4F7F;&#x7528;&#x81EA;&#x5E73;&#x8861;&#x4E8C;&#x53C9;&#x67E5;&#x627E;&#x6811;&#x6765;&#x67E5;&#x627E;value&#xFF08;C++&#x4E2D;&#x7684;map&#x5C31;&#x662F;&#x57FA;&#x4E8E;&#x7EA2;&#x9ED1;&#x6811;&#x5B9E;&#x73B0;&#xFF0C;&#x9762;&#x8BD5;&#x65F6;&#x7ECF;&#x5E38;&#x4F1A;&#x88AB;&#x95EE;&#x5230;&#xFF09;&#xFF0C;&#x6700;&#x574F;O(log n)&#xFF0C;&#x5E73;&#x5747;O(log n)
<img src="assets/map-impl-rb-tree.jpg" alt="map-impl-rb-tree.jpg"></p>
</li>
</ul>
<p>&#x5728;Go&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;<code>map &#x4F7F;&#x7528;&#x4E86;&#x54C8;&#x5E0C;&#x8868;&#x5B9E;&#x73B0;</code>&#xFF0C;&#x4E3B;&#x8981;&#x56E0;&#x4E3A;&#x54C8;&#x5E0C;&#x8868;&#x4F18;&#x8D8A;&#x7684; O(1) &#x8BFB;&#x5199;&#x6027;&#x80FD;&#x8981;&#x4F18;&#x4E8E;&#x81EA;&#x5E73;&#x8861;&#x641C;&#x7D22;&#x6811; O(log n) &#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4E0B;&#x56FE;&#x5C55;&#x793A;&#x4E86;&#x51E0;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#xFF1A;</p>
<p><img src="assets/map_implemention_complex.jpg" alt="complex"></p>
<p>&#x800C;&#x5728; C++ &#x7684;STL&#x4E2D;&#xFF0C;&#x5219;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x641C;&#x7D22;&#x6811;&#xFF08;&#x7EA2;&#x9ED1;&#x6811;&#xFF09;&#x548C;&#x54C8;&#x5E0C;&#x8868;&#x7684;2&#x79CD;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code class="lang-c++"><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; m1;           <span class="hljs-comment">// &#x6839;&#x636E;key&#x6392;&#x5E8F;&#xFF0C;&#x57FA;&#x4E8E;&#x7EA2;&#x9ED1;&#x6811;&#x5B9E;&#x73B0;</span>
<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; m2; <span class="hljs-comment">// &#x65E0;&#x5E8F;&#xFF0C;&#x57FA;&#x4E8E;&#x6570;&#x7EC4;+&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x5B9E;&#x73B0;</span>
</code></pre>
<p>&#x7EA2;&#x9ED1;&#x6811;&#x662F;&#x4E00;&#x79CD;<a href="https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91" target="_blank">&#x81EA;&#x5E73;&#x8861;</a>&#x7684;<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%85%83%E6%90%9C%E5%B0%8B%E6%A8%B9" target="_blank">&#x4E8C;&#x67E5;&#x627E;&#x53C9;&#x6811;</a>&#xFF0C;&#x5B83;&#x7684;&#x7279;&#x70B9;&#x662F;&#x6027;&#x80FD;&#x7A33;&#x5B9A;&#xFF0C;&#x5728;&#x6700;&#x574F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x662F; O(log n&#xFF09;&#x7684;&#x67E5;&#x627E;&#x65F6;&#x95F4;&#x3002;&#x4E8C;&#x53C9;&#x67E5;&#x627E;&#x6811;&#x7684;&#x7279;&#x70B9;&#x662F;&#x4E2D;&#x5E8F;&#x904D;&#x5386;&#x662F;&#x6709;&#x5E8F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x4E8E;&#x7EA2;&#x9ED1;&#x6811;&#x5B9E;&#x73B0;&#x7684; map &#x7684;&#x904D;&#x5386;&#x662F;&#x6709;&#x5E8F;&#x7684;&#xFF0C;&#x800C;&#x57FA;&#x4E8E;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5B9E;&#x73B0;&#x5219;&#x662F;&#x4E71;&#x5E8F;&#x7684;&#x3002;</p>
<p><code>&#x56E0;&#x4E3A; Go &#x7684; map &#x662F;&#x57FA;&#x4E8E;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5B9E;&#x73B0;</code>&#xFF0C;&#x6545;&#x4E0B;&#x6587;&#x4E2D;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x57FA;&#x4E8E;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x548C;&#x91CD;&#x70B9;&#x3002;</p>
<h2 id="&#x54C8;&#x5E0C;&#x8868;&#x5B9E;&#x73B0;&#x7684;&#x5173;&#x952E;&#x70B9;">&#x54C8;&#x5E0C;&#x8868;&#x5B9E;&#x73B0;&#x7684;&#x5173;&#x952E;&#x70B9;</h2>
<h3 id="&#x54C8;&#x5E0C;&#x51FD;&#x6570;">&#x54C8;&#x5E0C;&#x51FD;&#x6570;</h3>
<p>&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x89E3;&#x51B3; key &#x5230; value &#x7684;&#x6620;&#x5C04;&#x95EE;&#x9898;&#xFF1A;&#x8FD9;&#x4E2A;key&#x5BF9;&#x5E94;&#x7684;value&#x5B58;&#x50A8;&#x5728;&#x54EA;&#x91CC;&#xFF1F;</p>
<p>&#x5982;&#x4E0B;&#x56FE;&#x4E2D;&#xFF0C;cat &#x7ECF;&#x8FC7;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x8BA1;&#x7B97;&#x540E;&#x5F97;&#x5230;&#x4E00;&#x4E32;&#x6570;&#x5B57;&#xFF0C;&#x518D;&#x5BF9;10&#x53D6;&#x4F59;&#x6570;&#xFF0C;&#x5F97;&#x5230;Bucket&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x518D;&#x904D;&#x5386;&#x6BD4;&#x8F83;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x6700;&#x7EC8;&#x5F97;&#x5230;value&#x503C;&#xFF1A;  </p>
<p><img src="assets/hash-map-with-array.jpeg" alt="hash_map_array"></p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x628A;&#x5B57;&#x7B26;&#x4E32;&#x53D8;&#x6210;&#x4E86;&#x6570;&#x5B57;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x7684;&#x6570;&#x5B57;&#x4E0D;&#x540C;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E0D;&#x7BA1;&#x8FD0;&#x884C;&#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x8BA1;&#x7B97;&#x51FA;&#x7684;&#x6570;&#x5B57;&#x4E00;&#x5B9A;&#x76F8;&#x540C;&#x3002;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x518D;&#x505A;&#x4E00;&#x4E9B;&#x53D6;&#x4F59;&#x6570;&#x8BA1;&#x7B97;&#xFF0C;&#x5C31;&#x80FD;&#x89E3;&#x51B3; key &#x5230; value &#x7684;&#x6620;&#x5C04;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5728;&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x5E94;&#x8BE5;&#x80FD;&#x5C06;&#x4E0D;&#x540C;&#x7684;&#x952E;&#x6620;&#x5C04;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x8FD9;&#x8981;&#x6C42;&#x54C8;&#x5E0C;&#x7684;&#x8F93;&#x51FA;&#x8303;&#x56F4;&#x8981;&#x5927;&#x4E8E;&#x8F93;&#x5165;&#x8303;&#x56F4;&#xFF1A;  </p>
<p><img src="assets/hash_func1.jpg" alt="hash_func1"></p>
<p>&#x4F46;&#x7531;&#x4E8E;&#x952E;&#x7684;&#x6570;&#x91CF;&#x4F1A;&#x8FDC;&#x8FDC;&#x5927;&#x4E8E;&#x6620;&#x5C04;&#x7684;&#x8303;&#x56F4;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x7684;&#x7ED3;&#x679C;&#x4F1A;&#x51FA;&#x73B0;&#x4E0D;&#x5747;&#x5300;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E0D;&#x540C;&#x5B57;&#x7B26;&#x7684;hash code&#x76F8;&#x540C;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x8BF4;&#x6240;&#x8C13;&#x7684;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#x95EE;&#x9898;&#xFF1A;  </p>
<p><img src="assets/hash_func2.jpg" alt="hash"></p>
<p>&#x4F7F;&#x7528;&#x7ED3;&#x679C;&#x5206;&#x5E03;&#x6BD4;&#x8F83;&#x5747;&#x5300;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF0C;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(1)&#xFF0C;&#x5982;&#x679C;&#x7ED3;&#x679C;&#x5206;&#x5E03;&#x4E0D;&#x5747;&#x5300;&#xFF0C;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x53EF;&#x80FD;&#x4F1A;&#x8FBE;&#x5230;O(n)&#x3002;</p>
<h3 id="&#x51B2;&#x7A81;&#x89E3;&#x51B3;">&#x51B2;&#x7A81;&#x89E3;&#x51B3;</h3>
<p>&#x5E38;&#x7528;&#x89E3;&#x51B3;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#x7684;&#x65B9;&#x6CD5;&#x662F;<code>&#x5F00;&#x653E;&#x5BFB;&#x5740;&#x6CD5;</code>&#x548C;<code>&#x62C9;&#x94FE;&#x6CD5;</code>&#x3002;</p>
<p>&#x5F00;&#x653E;&#x5BFB;&#x5740;&#x6CD5;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x662F;&#x4F9D;&#x6B21;&#x63A2;&#x6D4B;&#x548C;&#x6BD4;&#x8F83;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4EE5;&#x5224;&#x65AD;&#x76EE;&#x6807;&#x952E;&#x503C;&#x5BF9;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E8E;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x628A;&#x5143;&#x7D20;&#x63D2;&#x5165;&#x5230;&#x51B2;&#x7A81;key&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x5982;&#x4E0B;&#x56FE; <code>key3</code> &#x548C; <code>key4</code> &#x51B2;&#x7A81;&#x65F6;&#x88AB;&#x8FFD;&#x52A0;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;key&#x7684;&#x672B;&#x5C3E;&#xFF1A;
<img src="assets/open_addressing.png" alt="open_addressing"></p>
<p>&#x4E0E;&#x5F00;&#x653E;&#x5BFB;&#x5740;&#x6CD5;&#x76F8;&#x6BD4;&#xFF0C;<code>&#x62C9;&#x94FE;&#x6CD5;&#x662F;&#x54C8;&#x5E0C;&#x8868;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x90FD;&#x7528;&#x62C9;&#x94FE;&#x6CD5;&#x5B9E;&#x73B0;&#x54C8;&#x5E0C;&#x8868;</code>&#xFF0C;&#x5B83;&#x7684;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x5F00;&#x653E;&#x5730;&#x5740;&#x6CD5;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#xFF0C;&#x4F46;&#x662F;&#x5E73;&#x5747;&#x67E5;&#x627E;&#x7684;&#x957F;&#x5EA6;&#x4E5F;&#x6BD4;&#x8F83;&#x77ED;&#xFF0C;&#x5404;&#x4E2A;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x8282;&#x70B9;&#x7684;&#x5185;&#x5B58;&#x90FD;&#x662F;&#x52A8;&#x6001;&#x7533;&#x8BF7;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;</p>
<p>&#x5B9E;&#x73B0;&#x62C9;&#x94FE;&#x6CD5;&#x4E00;&#x822C;&#x4F1A;&#x4F7F;&#x7528;<code>&#x6570;&#x7EC4;&#x52A0;&#x4E0A;&#x94FE;&#x8868;</code>&#xFF0C;&#x4E0D;&#x8FC7;&#x4E00;&#x4E9B;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4F1A;&#x5728;&#x62C9;&#x94FE;&#x6CD5;&#x7684;&#x54C8;&#x5E0C;&#x4E2D;&#x5F15;&#x5165;&#x7EA2;&#x9ED1;&#x6811;&#x4EE5;&#x4F18;&#x5316;&#x6027;&#x80FD;&#xFF0C;&#x6876;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#xFF0C;&#x5F53;&#x51FA;&#x73B0;&#x51B2;&#x7A81;&#x65F6;&#xFF0C;&#x5728;&#x94FE;&#x8868;&#x7684;&#x6700;&#x672B;&#x5C3E;&#x8FDB;&#x884C;&#x8FFD;&#x52A0;&#x3002;&#x67E5;&#x627E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x904D;&#x5386;&#x8BE5;&#x94FE;&#x8868;&#x5373;&#x53EF;&#xFF1A;</p>
<p><img src="assets/separate_chaining.png" alt="separate_chaining.png"></p>
<p>&#x66F4;&#x591A;&#x5173;&#x4E8E; &quot;&#x5F00;&#x653E;&#x5BFB;&#x5740;&#x6CD5;&quot; &#x548C; &#x201C;&#x62C9;&#x94FE;&#x6CD5;&#x201D;&#x7684;&#x4ECB;&#x7ECD;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;&#x300A;Go&#x8BED;&#x8A00;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;3.3 &#x54C8;&#x5E0C;&#x8868;&#x4E00;&#x8282;&#x3002; </p>
<h2 id="&#x6E90;&#x7801;&#x5206;&#x6790;">&#x6E90;&#x7801;&#x5206;&#x6790;</h2>
<blockquote>
<p>&#x300A;Go&#x8BED;&#x8A00;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&#x4F7F;&#x7528;&#x7684;&#x662F; go1.15 &#x7248;&#x672C;</p>
</blockquote>
<h3 id="&#x6570;&#x636E;&#x7ED3;&#x6784;">&#x6570;&#x636E;&#x7ED3;&#x6784;</h3>
<p>&#x6574;&#x4F53;&#x7ED3;&#x6784;&#xFF08;&#x53C2;&#x8003;&#xFF1A;<a href="https://www.youtube.com/watch?v=Tl7mi9QmLns" target="_blank">GopherCon 2016: Keith Randall - Inside the Map Implementation</a>&#xFF09;&#xFF1A;
<img src="assets/map-bucket1.jpg" alt="map-bucket1.png"></p>
<p>&#x4E0A;&#x56FE;&#x4E2D;&#xFF0C;&#x5B9E;&#x73B0; map &#x7684;&#x7ED3;&#x6784;&#x662F; <code>runtime.hmap</code> &#xFF0C;hmap&#x662F; hashmap &#x7684;&#x7F29;&#x5199;&#xFF1A;</p>
<ul>
<li><code>count</code>&#xFF1A;&#x4EE3;&#x8868;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x957F;&#x5EA6;</li>
<li><code>B</code>&#xFF1A;&#x4EE3;&#x8868;&#x6876;&#x7684;&#x5BF9;&#x6570;&#xFF0C;2^B=32&#xFF0C;&#x6545;B&#x4E3A;5</li>
<li><code>buckets</code>&#xFF1A;&#x662F;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x6307;&#x5411;&#x4E00;&#x4E2A;&#x6876;&#x6570;&#x7EC4;</li>
<li><code>oldbuckets</code>&#xFF1A;&#x6269;&#x5BB9;&#x65F6;&#x4F7F;&#x7528;&#xFF0C;&#x6307;&#x5411;&#x8001;&#x7684;&#x6876;</li>
<li><code>extra.overflow</code>&#xFF1A;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x6EA2;&#x51FA;&#x6876;&#x7684;&#x6570;&#x7EC4;&#x6307;&#x9488;</li>
</ul>
<pre><code class="lang-go"><span class="hljs-comment">// /src/runtime/map.go  </span>

<span class="hljs-keyword">type</span> hmap <span class="hljs-keyword">struct</span> {   
   count     <span class="hljs-keyword">int</span> <span class="hljs-comment">// &#x5143;&#x7D20;&#x4E2A;&#x6570;&#xFF0C;&#x8C03;&#x7528; len(map) &#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x6B64;&#x503C;</span>
   flags     <span class="hljs-keyword">uint8</span>  
   B         <span class="hljs-keyword">uint8</span>  <span class="hljs-comment">// &#x6876;&#x7684;&#x5BF9;&#x6570;&#xFF0C;len(buckets) == 2^B </span>
   noverflow <span class="hljs-keyword">uint16</span> <span class="hljs-comment">// &#x6EA2;&#x51FA;&#x6876;&#x7684;&#x8FD1;&#x4F3C;&#x6570;&#x91CF;</span>
   hash0     <span class="hljs-keyword">uint32</span> <span class="hljs-comment">// &#x54C8;&#x5E0C;&#x79CD;&#x5B50;&#xFF0C;&#x8BA9;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x7684;&#x7ED3;&#x679C;&#x5177;&#x6709;&#x968F;&#x673A;&#x6027;&#xFF0C;&#x8BA1;&#x7B97;key&#x65F6;&#x7528;&#x5230;</span>

   <span class="hljs-comment">// &#x6307;&#x5411; buckets &#x6570;&#x7EC4;&#xFF0C;&#x5927;&#x5C0F;&#x4E3A; 2^B&#xFF0C;&#x5982;&#x679C;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x4E3A;0&#xFF0C;&#x5C31;&#x4E3A; nil </span>
   buckets    unsafe.Pointer
   <span class="hljs-comment">// &#x6269;&#x5BB9;&#x65F6;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x4E4B;&#x524D; buckets &#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x5B83;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x5F53;&#x524D; buckets &#x7684;&#x4E00;&#x534A;&#xFF1B;</span>
   oldbuckets unsafe.Pointer
   <span class="hljs-comment">// &#x6307;&#x793A;&#x6269;&#x5BB9;&#x8FDB;&#x5EA6;&#xFF0C;&#x5C0F;&#x4E8E;&#x6B64;&#x5730;&#x5740;&#x7684; buckets &#x8FC1;&#x79FB;&#x5B8C;&#x6210;</span>
   nevacuate  <span class="hljs-keyword">uintptr</span>

   extra *mapextra  <span class="hljs-comment">// optional fields  </span>
}

<span class="hljs-comment">// mapextra holds fields that are not present on all maps.type </span>
<span class="hljs-keyword">type</span> mapextra <span class="hljs-keyword">struct</span> {  
   <span class="hljs-comment">// If both key and elem do not contain pointers and are inline, then we mark bucket  </span>
   <span class="hljs-comment">// type as containing no pointers. This avoids scanning such maps.  </span>
   <span class="hljs-comment">// However, bmap.overflow is a pointer. In order to keep overflow buckets   </span>
   <span class="hljs-comment">// alive, we store pointers to all overflow buckets in hmap.extra.overflow and hmap.extra.oldoverflow.   </span>
   <span class="hljs-comment">// overflow and oldoverflow are only used if key and elem do not contain pointers.   </span>
   <span class="hljs-comment">// overflow contains overflow buckets for hmap.buckets.  </span>
   <span class="hljs-comment">// oldoverflow contains overflow buckets for hmap.oldbuckets.  </span>
   <span class="hljs-comment">// The indirection allows to store a pointer to the slice in hiter.  </span>
   overflow    *[]*bmap  
   oldoverflow *[]*bmap  

   <span class="hljs-comment">// nextOverflow holds a pointer to a free overflow bucket.  </span>
   nextOverflow *bmap  
}
</code></pre>
<p>bucket &#xFF08;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684;&#x6876;&#xFF09;&#x7684;&#x5185;&#x5B58;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;
<img src="assets/map-bucket2.jpg" alt="map-bucket2.png"></p>
<p>&#x5B9E;&#x73B0;&#x8BE5;&#x7ED3;&#x6784;&#x7684;&#x662F;<code>runtime.bmap</code>&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-comment">// /src/runtime/map.go</span>
<span class="hljs-keyword">type</span> bmap <span class="hljs-keyword">struct</span> {  
    tophash [<span class="hljs-number">8</span>]<span class="hljs-keyword">uint8</span>

    <span class="hljs-comment">// &#x5982;&#x4E0B;&#x5185;&#x5BB9;&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x8865;&#x5168;&#xFF0C;&#x6E90;&#x7801;&#xFF1A;</span>
    <span class="hljs-comment">// 1.15&#xFF1A;/src/cmd/compile/internal/gc/reflect.go:bmap()</span>
    <span class="hljs-comment">// 1.20&#xFF1A;/src/cmd/compile/internal/reflectdata/reflect.go:MapBucketType()</span>
    keys [<span class="hljs-number">8</span>]keytype
    values [<span class="hljs-number">8</span>]valuetype
    overflow unsafe.Pointer
}
</code></pre>
<ul>
<li><code>tophash</code>&#xFF1A;&#x54C8;&#x5E0C;&#x952E;&#x7684;&#x9AD8;8&#x4F4D;&#xFF0C;&#x901A;&#x8FC7;&#x4F4D;&#x8FD0;&#x7B97;&#x4EE3;&#x66FF;&#x53D6;&#x4F59;&#xFF0C;&#x52A0;&#x901F;&#x5B9A;&#x4F4D; key &#x5728;&#x6876;&#x6570;&#x7EC4;&#x7684;&#x90A3;&#x4E2A;&#x4F4D;&#x7F6E;   </li>
<li><code>keys</code>&#xFF1A;&#x952E;&#x6570;&#x7EC4;&#xFF0C;&#x6700;&#x591A;&#x5B58;&#x50A8;8&#x4E2A;&#x952E;&#xFF0C;&#x6EA2;&#x51FA;&#x65F6;&#x5728; <code>overflow</code> &#x4E2D;&#x52A8;&#x6001;&#x5206;&#x914D;</li>
<li><code>values</code>&#xFF1A;&#x503C;&#x6570;&#x7EC4;&#xFF0C;&#x540C;&#x4E0A;</li>
<li><code>overflow</code>&#xFF1A;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#x5355;&#x4E2A;&#x6876;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x8D85;&#x8FC7;8&#x4E2A;&#x65F6;&#xFF0C;&#x52A8;&#x6001;&#x5206;&#x914D;1&#x4E2A;&#x6876;&#xFF0C;&#x5982;&#x679C;&#x4ECD;&#x7136;&#x6EA2;&#x51FA;&#xFF0C;&#x65E0;&#x9650;&#x5957;&#x5A03;&#x518D;&#x5206;&#x914D;</li>
</ul>
<h3 id="&#x904D;&#x5386;&#x8FC7;&#x7A0B;">&#x904D;&#x5386;&#x8FC7;&#x7A0B;</h3>
<p>&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="https://golang.design/go-questions/map/range/" target="_blank">https://golang.design/go-questions/map/range/</a></p>
<h3 id="&#x8D4B;&#x503C;&#x8FC7;&#x7A0B;">&#x8D4B;&#x503C;&#x8FC7;&#x7A0B;</h3>
<p>&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="https://golang.design/go-questions/map/assign/" target="_blank">https://golang.design/go-questions/map/assign/</a></p>
<h3 id="&#x5220;&#x9664;&#x8FC7;&#x7A0B;">&#x5220;&#x9664;&#x8FC7;&#x7A0B;</h3>
<p>&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="https://golang.design/go-questions/map/delete/" target="_blank">https://golang.design/go-questions/map/delete/</a></p>
<h3 id="&#x6269;&#x5BB9;&#x8FC7;&#x7A0B;">&#x6269;&#x5BB9;&#x8FC7;&#x7A0B;</h3>
<p>&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="https://golang.design/go-questions/map/delete/" target="_blank">https://golang.design/go-questions/map/delete/</a></p>
<h2 id="&#x5404;&#x4E2A;&#x8BED;&#x8A00;&#x7684;map&#x5BF9;&#x6BD4;">&#x5404;&#x4E2A;&#x8BED;&#x8A00;&#x7684;map&#x5BF9;&#x6BD4;</h2>
<p><img src="assets/map-in-other-languages.png" alt="map-in-other-languages.png"> </p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; CoffeeChat 2020 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2023-05-31 16:11:33
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 📚哈希表">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2-key为什么是无序的.html" class="navigation navigation-next " aria-label="Next page: key为什么是无序的">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"map地址的实现原理","level":"1.4.1","depth":2,"next":{"title":"key为什么是无序的","level":"1.4.2","depth":2,"path":"哈希表/2-key为什么是无序的.md","ref":"哈希表/2-key为什么是无序的.md","articles":[]},"previous":{"title":"📚哈希表","level":"1.4","depth":1,"path":"哈希表/README.md","ref":"哈希表/README.md","articles":[{"title":"map地址的实现原理","level":"1.4.1","depth":2,"path":"哈希表/1-map底层的实现原理.md","ref":"哈希表/1-map底层的实现原理.md","articles":[]},{"title":"key为什么是无序的","level":"1.4.2","depth":2,"path":"哈希表/2-key为什么是无序的.md","ref":"哈希表/2-key为什么是无序的.md","articles":[]},{"title":"哪些类型可以作为map的key","level":"1.4.3","depth":2,"path":"哈希表/3-哪些类型可以作为map的key.md","ref":"哈希表/3-哪些类型可以作为map的key.md","articles":[]},{"title":"可以边遍历边删除吗","level":"1.4.4","depth":2,"path":"哈希表/4-可以边遍历边删除吗.md","ref":"哈希表/4-可以边遍历边删除吗.md","articles":[]},{"title":"可以对map的元素取地址吗","level":"1.4.5","depth":2,"path":"哈希表/5-可以对map的元素取地址吗.md","ref":"哈希表/5-可以对map的元素取地址吗.md","articles":[]},{"title":"如何比较两个 map 相等","level":"1.4.6","depth":2,"path":"哈希表/6-如何比较两个map相等.md","ref":"哈希表/6-如何比较两个map相等.md","articles":[]},{"title":"*map 是线程安全的吗","level":"1.4.7","depth":2,"path":"哈希表/7-map是线程安全的吗.md","ref":"哈希表/7-map是线程安全的吗.md","articles":[]},{"title":"*如何实现线程安全的map","level":"1.4.8","depth":2,"path":"哈希表/8-如何实现线程安全的map.md","ref":"哈希表/8-如何实现线程安全的map.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["back-to-top-button","chapter-fold","expandable-chapters-small","expandable-chapters","code","tbfed-pagefooter","page-treeview","page-toc-button","pageview-count","popup","github","github-buttons"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy CoffeeChat 2020","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"collapsed":false,"copyright":"Copyright &#169; aleen42","minHeaderCount":"4","minHeaderDeep":"4"},"chapter-fold":{},"github":{"url":"https://github.com/xmcy0011/interview-golang"},"search":{},"popup":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"page-toc-button":{},"back-to-top-button":{},"pageview-count":{},"github-buttons":{},"expandable-chapters-small":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"许非","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"GO面试复习指南","language":"zh-hans","links":{"sidebar":{}},"gitbook":"3.2.3","description":"列举Golang后端常见面试和笔试题，资料来自于各种书籍、网站和文章分享等"},"file":{"path":"哈希表/1-map底层的实现原理.md","mtime":"2023-05-31T08:11:33.032Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-05-31T08:27:27.831Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

